global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  # Python‑микросервисы — метрики по адресу /metrics
  - job_name: "fastapi-services"
    metrics_path: "/metrics"
    static_configs:
      - targets: [
          "product-service:8000",
          "review-service:8010",
          "activity-collector:8020"
        ]

  # Kafka + Connect (JMX exporter)
  - job_name: "kafka"
    static_configs:
      - targets: ["kafka:7071", "kafka-connect:7071"]

  # Flink (+ TaskManager)
  - job_name: "flink"
    static_configs:
      - targets: ["flink-job:9249"]